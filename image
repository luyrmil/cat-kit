<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>고양이 쓰다듬기</title>
<style>
  body {
    margin: 0;
    background: #fffafc;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    font-family: "Apple SD Gothic Neo", sans-serif;
    touch-action: manipulation;
  }

  .cat-container {
    position: relative;
    width: 90vw;
    max-width: 380px;
    text-align: center;
  }

  .hand {
    font-size: 4rem;
    position: absolute;
    top: -70px;
    left: 50%;
    transform: translateX(-50%);
    transition: transform 0.15s ease-in-out;
    cursor: pointer;
    user-select: none;
  }

  .cat {
    width: 100%;
    border-radius: 15px;
    transition: opacity 0.3s ease;
  }

  .hearts {
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.2rem;
    opacity: 0;
    transition: opacity 0.3s;
    pointer-events: none;
  }

  .show {
    opacity: 1;
  }

  .petting {
    transform: translateX(-50%) translateY(20px);
  }

  .counter {
    margin-top: 20px;
    font-size: 1.1rem;
    color: #ff6b9c;
  }
</style>
</head>
<body>
  <div class="cat-container">
    <div class="hand" id="hand">🫳</div>
    <img id="cat" class="cat" src="https://placekitten.com/360/360" alt="cat">
    <div class="hearts" id="hearts">💕💕💕</div>
  </div>

  <div class="counter" id="counter">쓰다듬기: 0번</div>

  <script>
    const hand = document.getElementById("hand");
    const cat = document.getElementById("cat");
    const hearts = document.getElementById("hearts");
    const counter = document.getElementById("counter");

    let count = 0;
    const cats = [
      "https://placekitten.com/360/360",
      "https://placekitten.com/361/360",
      "https://placekitten.com/360/361",
      "https://placekitten.com/362/360",
      "https://placekitten.com/363/361"
    ];

    function petCat() {
      count++;
      counter.textContent = `쓰다듬기: ${count}번`;

      hand.classList.add("petting");
      setTimeout(() => hand.classList.remove("petting"), 150);

      if (count % 5 === 0) {
        const newCat = cats[Math.floor(Math.random() * cats.length)];
        cat.style.opacity = 0;
        setTimeout(() => {
          cat.src = newCat;
          cat.style.opacity = 1;
        }, 300);

        hearts.classList.add("show");
        setTimeout(() => hearts.classList.remove("show"), 1000);
      }
    }

    hand.addEventListener("click", petCat);
    hand.addEventListener("touchstart", (e) => {
      e.preventDefault();
      petCat();
    });
  </script>
</body>
</html>
